schema: '2.0'
stages:
  data-valuation-fetch-data@diabetes:
    cmd: python -m scripts.fetch_data --dataset-name diabetes
    deps:
    - path: scripts/fetch_data.py
      md5: d492112a33b7220d7ac2f3238116d3c4
      size: 1738
    params:
      params.yaml:
        datasets:
          diabetes: &id001
            openml_id: 37
            train_size: 128
            dev_size: 128
            test_size: 512
          click:
            openml_id: 1216
            train_size: 500
            dev_size: 500
            test_size: 2000
          phoneme:
            openml_id: 1489
            train_size: 500
            dev_size: 500
            test_size: 2000
          fmnist_binary:
            openml_id: 40996
            preprocessor:
              principal_resnet_components:
                n_components: 32
                grayscale: true
            filters:
              binarization:
                label_zero: '0'
                label_one: '1'
            train_size: 500
            dev_size: 500
            test_size: 2000
          cifar10:
            openml_id: 40927
            preprocessor:
              principal_resnet_components:
                n_components: 32
                grayscale: false
            filters:
              binarization:
                label_zero: '1'
                label_one: '9'
            train_size: 500
            dev_size: 500
            test_size: 2000
          mnist_binary:
            openml_id: 554
            preprocessor:
              principal_resnet_components:
                n_components: 32
                grayscale: true
            filters:
              binarization:
                label_zero: '1'
                label_one: '7'
            train_size: 500
            dev_size: 500
            test_size: 2000
          mnist_multi:
            openml_id: 554
            preprocessor:
              principal_resnet_components:
                n_components: 32
                grayscale: true
            train_size: 500
            dev_size: 500
            test_size: 2000
        datasets.diabetes: *id001
    outs:
    - path: output/raw/diabetes
      md5: 3e23427351eb2041c4ed0cf74f615aa9.dir
      size: 55033
      nfiles: 3
  data-valuation-preprocess-data@diabetes:
    cmd: python -m scripts.preprocess_data --dataset-name diabetes
    deps:
    - path: output/raw/diabetes
      md5: 3e23427351eb2041c4ed0cf74f615aa9.dir
      size: 55033
      nfiles: 3
    - path: scripts/preprocess_data.py
      md5: 62de9f781258ae6dba5ef6b30181e862
      size: 2893
    params:
      params.yaml:
        datasets:
          diabetes: &id002
            openml_id: 37
            train_size: 128
            dev_size: 128
            test_size: 512
          click:
            openml_id: 1216
            train_size: 500
            dev_size: 500
            test_size: 2000
          phoneme:
            openml_id: 1489
            train_size: 500
            dev_size: 500
            test_size: 2000
          fmnist_binary:
            openml_id: 40996
            preprocessor:
              principal_resnet_components:
                n_components: 32
                grayscale: true
            filters:
              binarization:
                label_zero: '0'
                label_one: '1'
            train_size: 500
            dev_size: 500
            test_size: 2000
          cifar10:
            openml_id: 40927
            preprocessor:
              principal_resnet_components:
                n_components: 32
                grayscale: false
            filters:
              binarization:
                label_zero: '1'
                label_one: '9'
            train_size: 500
            dev_size: 500
            test_size: 2000
          mnist_binary:
            openml_id: 554
            preprocessor:
              principal_resnet_components:
                n_components: 32
                grayscale: true
            filters:
              binarization:
                label_zero: '1'
                label_one: '7'
            train_size: 500
            dev_size: 500
            test_size: 2000
          mnist_multi:
            openml_id: 554
            preprocessor:
              principal_resnet_components:
                n_components: 32
                grayscale: true
            train_size: 500
            dev_size: 500
            test_size: 2000
        datasets.diabetes: *id002
    outs:
    - path: output/preprocessed/diabetes
      md5: 30830df663c83453701d76e8eb6d8b2e.dir
      size: 55041
      nfiles: 5
  data-valuation-fetch-data@mnist_binary:
    cmd: python -m scripts.fetch_data --dataset-name mnist_binary
    deps:
    - path: scripts/fetch_data.py
      md5: c42255317ca8fab2bd5ab005057e99ce
      size: 1778
    params:
      params.yaml:
        datasets:
          diabetes:
            openml_id: 37
            train_size: 128
            dev_size: 128
            test_size: 512
          click:
            openml_id: 1216
            train_size: 500
            dev_size: 500
            test_size: 2000
          phoneme:
            openml_id: 1489
            train_size: 500
            dev_size: 500
            test_size: 2000
          fmnist_binary:
            openml_id: 40996
            preprocessor:
              principal_resnet_components:
                n_components: 32
                size: 28
            filters:
              binarization:
                label_zero: '0'
                label_one: '1'
            train_size: 500
            dev_size: 500
            test_size: 2000
          mnist_binary: &id003
            openml_id: 554
            preprocessor:
              principal_resnet_components:
                n_components: 32
                size: 28
            filters:
              binarization:
                label_zero: '1'
                label_one: '7'
            train_size: 500
            dev_size: 500
            test_size: 2000
          mnist_multi:
            openml_id: 554
            preprocessor:
              principal_resnet_components:
                n_components: 32
                size: 28
            train_size: 500
            dev_size: 500
            test_size: 2000
        datasets.mnist_binary: *id003
    outs:
    - path: output/raw/554
      md5: 79b71fe3a32af9e639e3bdf55b30a177.dir
      size: 439199609
      nfiles: 3
